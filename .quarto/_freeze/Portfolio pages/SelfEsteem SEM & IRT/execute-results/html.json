{
  "hash": "558e0a7221d97be86d7a22e0fb12b03c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Psychometric Properties of Self Esteem via SEM and IRT\"\neditor: visual\nauthor: Matthew Swanson\ncategories: ['Structural Equation Modeling', 'Item Response Theory', 'R', 'lavaan']\nformat: \n  html: \n    page-layout: full\n---\n\n\n\n::: text-center\n# **Project Goal**\n:::\n\nThe data for this project was downloaded from Kaggle [here](https://www.kaggle.com/datasets/lucasgreenwell/rosenberg-self-esteem-scale-responses?select=data.csv) and originally housed on [OpenPsychometrics.org](https://openpsychometrics.org/). The data set contains approximately 48,000 participants who took the Rosenberg Self-Esteem Scale. Participant's gender, age, and country were also collected. This scale contains 10 items, of which five items are positively worded (Q1, Q2, Q4, Q6, & Q7) and five items are negatively worded (Q3, Q5, & Q8-10) on a 1-4 scale (anchors ranged from strongly disagree (1) to strongly agree (4)).\n\nFor this data, I will first compute descriptive values for the data set and then I will look at the psychometric properties of this data using both structural equation modeling (SEM) and Item Response Theory (IRT) principals.\n\n::: text-center\n# **Data Descriptive Analysis**\n:::\n\nFirst, I will load in the data and check for missing values. (Data file location is hidden from code chunk)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nData <- read.csv(\"C:/Users/matts/OneDrive/Desktop/002 Matt Desktop/WebsiteData/SelfEsteem Data/data.csv\", na.strings = \"\")\nsum(is.na(Data))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n:::\n\n\n\nNo cells have been flagged as missing. However, the data originally coded all missing values as \"0\" so I will need to filter these values out to get complete responses before moving on to calculating data descriptives.\n\nNote: Original results suggest that there are four missing values in the data, however, looking at the rows that contain these four values, it becomes clear that r detected the country code of NA (Nambia) and incorrectly read those values as missing. I specified that the data be read in with the argument na.strings = \"\" to solve this problem and reloaded the data in.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(psych)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'psych' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code}\nstr(Data) #checking for numeric status\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t47974 obs. of  14 variables:\n $ Q1     : int  3 4 2 4 4 4 4 1 4 3 ...\n $ Q2     : int  3 4 3 3 4 4 4 1 4 4 ...\n $ Q3     : int  1 1 2 2 1 1 2 4 2 1 ...\n $ Q4     : int  4 3 3 3 4 3 4 1 4 3 ...\n $ Q5     : int  3 1 3 2 1 1 2 4 1 2 ...\n $ Q6     : int  4 3 3 3 4 3 2 1 4 3 ...\n $ Q7     : int  3 3 2 2 4 4 3 1 3 3 ...\n $ Q8     : int  2 2 3 3 1 2 4 1 1 2 ...\n $ Q9     : int  3 3 3 3 1 2 3 4 1 1 ...\n $ Q10    : int  3 2 3 3 1 1 3 4 1 1 ...\n $ gender : int  1 1 2 1 1 2 1 1 1 2 ...\n $ age    : int  40 36 22 31 30 25 32 51 37 41 ...\n $ source : int  1 1 1 1 1 1 1 3 1 1 ...\n $ country: chr  \"US\" \"US\" \"US\" \"US\" ...\n```\n\n\n:::\n\n```{.r .cell-code}\nData_new <- Data[apply(Data!=0, 1, all),]\n#Get means, sd, and range\ndescribe(Data_new)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         vars     n   mean     sd median trimmed   mad min    max range   skew\nQ1          1 45844   3.01   0.86      3    3.09  1.48   1      4     3  -0.60\nQ2          2 45844   3.11   0.79      3    3.19  1.48   1      4     3  -0.73\nQ3          3 45844   2.31   0.95      2    2.26  1.48   1      4     3   0.23\nQ4          4 45844   2.92   0.80      3    2.97  1.48   1      4     3  -0.44\nQ5          5 45844   2.39   0.98      2    2.36  1.48   1      4     3   0.08\nQ6          6 45844   2.56   0.92      3    2.58  1.48   1      4     3  -0.08\nQ7          7 45844   2.45   0.93      2    2.43  1.48   1      4     3   0.02\nQ8          8 45844   2.70   0.96      3    2.74  1.48   1      4     3  -0.31\nQ9          9 45844   2.79   0.99      3    2.86  1.48   1      4     3  -0.43\nQ10        10 45844   2.58   1.07      3    2.60  1.48   1      4     3  -0.17\ngender     11 45844   1.64   0.50      2    1.66  0.00   1      3     2  -0.31\nage        12 45844  32.07 637.24     22   24.67  7.41   1 100000 99999 135.77\nsource     13 45844   1.54   0.85      1    1.43  0.00   1      3     2   1.03\ncountry*   14 45844 114.72  57.22    147  120.09 28.17   1    176   175  -0.47\n         kurtosis   se\nQ1          -0.28 0.00\nQ2           0.28 0.00\nQ3          -0.88 0.00\nQ4          -0.22 0.00\nQ5          -1.01 0.00\nQ6          -0.84 0.00\nQ7          -0.88 0.00\nQ8          -0.82 0.00\nQ9          -0.83 0.00\nQ10         -1.22 0.01\ngender      -1.29 0.00\nage      19255.40 2.98\nsource      -0.83 0.00\ncountry*    -1.47 0.27\n```\n\n\n:::\n:::\n\n\n\nGlancing at the age row suggests that age ranged from 1 - 100,000 years of age, which is, of course, impossible. Thus, I will filter for a reasonable adult age range (18 - 100). This step is important as participants who reported being a single year old or 100,000 years old likely did not pay attention to other items in this scale and so I want to remove their responses.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nData_new <- Data_new %>%\n  filter(between(age, 18, 100))\ndescribe(Data_new)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         vars     n   mean    sd median trimmed   mad min max range  skew\nQ1          1 34943   3.09  0.83      3    3.17  1.48   1   4     3 -0.67\nQ2          2 34943   3.21  0.73      3    3.29  0.00   1   4     3 -0.76\nQ3          3 34943   2.25  0.94      2    2.18  1.48   1   4     3  0.29\nQ4          4 34943   2.99  0.77      3    3.04  0.00   1   4     3 -0.47\nQ5          5 34943   2.31  0.96      2    2.26  1.48   1   4     3  0.16\nQ6          6 34943   2.62  0.90      3    2.65  1.48   1   4     3 -0.13\nQ7          7 34943   2.49  0.91      3    2.49  1.48   1   4     3 -0.02\nQ8          8 34943   2.66  0.96      3    2.71  1.48   1   4     3 -0.28\nQ9          9 34943   2.71  0.98      3    2.76  1.48   1   4     3 -0.35\nQ10        10 34943   2.49  1.06      3    2.48  1.48   1   4     3 -0.06\ngender     11 34943   1.61  0.50      2    1.63  0.00   1   3     2 -0.25\nage        12 34943  30.07 12.25     25   28.22  8.90  18 100    82  1.21\nsource     13 34943   1.57  0.87      1    1.46  0.00   1   3     2  0.95\ncountry*   14 34943 110.04 55.56    132  114.78 44.48   1 171   170 -0.39\n         kurtosis   se\nQ1          -0.11 0.00\nQ2           0.56 0.00\nQ3          -0.82 0.01\nQ4          -0.09 0.00\nQ5          -0.97 0.01\nQ6          -0.77 0.00\nQ7          -0.82 0.00\nQ8          -0.86 0.01\nQ9          -0.87 0.01\nQ10         -1.22 0.01\ngender      -1.46 0.00\nage          0.84 0.07\nsource      -0.99 0.00\ncountry*    -1.52 0.30\n```\n\n\n:::\n\n```{.r .cell-code}\nData_new %>%\n  count(Data_new$gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Data_new$gender     n\n1               1 13938\n2               2 20712\n3               3   293\n```\n\n\n:::\n:::\n\n\n\nLooking at the means, most items hover around the mid point of the scale (between scores of 2-3). The average age of participants is 30 with a standard deviation of about 12 years and 59% of participants identify as female, 40% identify as male, and about 1% identify as non-binary.\n\n::: text-center\n## **Item Correlations**\n:::\n\nNow to calculate correlations between scale items and visualize them.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(Hmisc)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'Hmisc' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'Hmisc'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:psych':\n\n    describe\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:dplyr':\n\n    src, summarize\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    format.pval, units\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(corrplot)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'corrplot' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\ncorrplot 0.95 loaded\n```\n\n\n:::\n\n```{.r .cell-code}\nCorrelation <- rcorr(as.matrix(Data_new[, 1:10]))\nCorrelation\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       Q1    Q2    Q3    Q4    Q5    Q6    Q7    Q8    Q9   Q10\nQ1   1.00  0.69 -0.52  0.54 -0.49  0.59  0.55 -0.38 -0.44 -0.50\nQ2   0.69  1.00 -0.48  0.54 -0.48  0.55  0.51 -0.32 -0.40 -0.46\nQ3  -0.52 -0.48  1.00 -0.44  0.63 -0.59 -0.59  0.45  0.58  0.62\nQ4   0.54  0.54 -0.44  1.00 -0.40  0.48  0.46 -0.30 -0.39 -0.41\nQ5  -0.49 -0.48  0.63 -0.40  1.00 -0.53 -0.55  0.41  0.53  0.56\nQ6   0.59  0.55 -0.59  0.48 -0.53  1.00  0.73 -0.48 -0.52 -0.57\nQ7   0.55  0.51 -0.59  0.46 -0.55  0.73  1.00 -0.46 -0.51 -0.55\nQ8  -0.38 -0.32  0.45 -0.30  0.41 -0.48 -0.46  1.00  0.49  0.51\nQ9  -0.44 -0.40  0.58 -0.39  0.53 -0.52 -0.51  0.49  1.00  0.73\nQ10 -0.50 -0.46  0.62 -0.41  0.56 -0.57 -0.55  0.51  0.73  1.00\n\nn= 34943 \n\n\nP\n    Q1 Q2 Q3 Q4 Q5 Q6 Q7 Q8 Q9 Q10\nQ1      0  0  0  0  0  0  0  0  0 \nQ2   0     0  0  0  0  0  0  0  0 \nQ3   0  0     0  0  0  0  0  0  0 \nQ4   0  0  0     0  0  0  0  0  0 \nQ5   0  0  0  0     0  0  0  0  0 \nQ6   0  0  0  0  0     0  0  0  0 \nQ7   0  0  0  0  0  0     0  0  0 \nQ8   0  0  0  0  0  0  0     0  0 \nQ9   0  0  0  0  0  0  0  0     0 \nQ10  0  0  0  0  0  0  0  0  0    \n```\n\n\n:::\n\n```{.r .cell-code}\ncorrplot.mixed(Correlation$r, tl.pos = 'lt')\n```\n\n::: {.cell-output-display}\n![](SelfEsteem-SEM---IRT_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\nPerhaps unsurprising, it appears as though negatively worded items negatively correlate with positively worded items and all items correlate with each other. Now that I have a sense of the data and how the items play with each other, I am going to use both SEM and IRT principals to assess the psychometric properties of this scale.\n\n::: text-center\n# **Structural Equation Modeling**\n:::\n\nSEM is preferred here over CFA as SEM relaxes assumptions around cross loadings and error terms, which aid in reproducing more accurate fit statistics. SEM also allows for the estimation of paths between latent variables. First, I am going to run a simple SEM using the lavaan package where by all 10 self-esteem items are loaded onto a latent factor of general self-esteem.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lavaan)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'lavaan' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThis is lavaan 0.6-19\nlavaan is FREE software! Please report any bugs.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'lavaan'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:psych':\n\n    cor2cov\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(semPlot)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'semPlot' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code}\nData_new <- Data_new %>%\n  filter(gender != \"3\")\n\nSEM1Fac <- 'SE =~ Q1 + Q2 + Q3 + Q4 + Q5 + Q6 + Q7 + Q8 + Q9 + Q10'\nfitSEM1 <- sem(SEM1Fac, Data_new, estimator = \"MLR\")\nsummary(fitSEM1, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 24 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        20\n\n  Number of observations                         34650\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              22889.711   17573.123\n  Degrees of freedom                                 35          35\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.303\n    Yuan-Bentler correction (Mplus variant)                        \n\nModel Test Baseline Model:\n\n  Test statistic                            191819.569  138248.340\n  Degrees of freedom                                45          45\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.387\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.881       0.873\n  Tucker-Lewis Index (TLI)                       0.847       0.837\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.881\n  Robust Tucker-Lewis Index (TLI)                            0.847\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -370326.408 -370326.408\n  Scaling correction factor                                  1.194\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -358881.552 -358881.552\n  Scaling correction factor                                  1.263\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              740692.816  740692.816\n  Bayesian (BIC)                            740861.877  740861.877\n  Sample-size adjusted Bayesian (SABIC)     740798.317  740798.317\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.137       0.120\n  90 Percent confidence interval - lower         0.136       0.119\n  90 Percent confidence interval - upper         0.139       0.122\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.137\n  90 Percent confidence interval - lower                     0.136\n  90 Percent confidence interval - upper                     0.139\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.057       0.057\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.596    0.720\n    Q2                0.825    0.005  155.749    0.000    0.491    0.674\n    Q3               -1.211    0.009 -129.245    0.000   -0.722   -0.770\n    Q4                0.776    0.007  119.183    0.000    0.462    0.600\n    Q5               -1.161    0.010 -122.083    0.000   -0.692   -0.718\n    Q6                1.209    0.008  144.216    0.000    0.720    0.798\n    Q7                1.194    0.009  133.869    0.000    0.712    0.778\n    Q8               -0.945    0.011  -89.622    0.000   -0.563   -0.587\n    Q9               -1.181    0.011 -108.667    0.000   -0.704   -0.718\n    Q10              -1.360    0.011 -124.684    0.000   -0.811   -0.768\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.330    0.004   92.713    0.000    0.330    0.481\n   .Q2                0.290    0.003   97.398    0.000    0.290    0.546\n   .Q3                0.359    0.004   84.511    0.000    0.359    0.408\n   .Q4                0.379    0.004  108.115    0.000    0.379    0.639\n   .Q5                0.450    0.005   90.813    0.000    0.450    0.485\n   .Q6                0.296    0.003   90.331    0.000    0.296    0.364\n   .Q7                0.330    0.004   89.487    0.000    0.330    0.394\n   .Q8                0.604    0.005  114.934    0.000    0.604    0.656\n   .Q9                0.467    0.005   89.848    0.000    0.467    0.485\n   .Q10               0.457    0.005   87.910    0.000    0.457    0.410\n    SE                0.355    0.005   74.706    0.000    1.000    1.000\n```\n\n\n:::\n\n```{.r .cell-code}\nsemPaths(fitSEM1, what = \"std\", edge.label.cex = 0.7, esize = 1,\nintercepts = FALSE,rotation = 4, edge.color = 1, asize = 2.5,\nsizeMan = 5, mar = c(1, 1.5, 1.5, 3), fade = FALSE)\n```\n\n::: {.cell-output-display}\n![](SelfEsteem-SEM---IRT_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\nWhile all items do significantly load onto the latent factor of self-esteem and have decently sized factor loadings (all factor loadings are greater than .58), model fit does not meet acceptable standards. (cite acceptable standards). Since items 4 and 8 have the lowest loadings, I will drop those two items and test if model fit improves.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSEM1.8Fac <- 'SE =~ Q1 + Q2 + Q3 + Q5 + Q6 + Q7 + Q9 + Q10'\nfitSEM1.8 <- sem(SEM1.8Fac, Data_new, estimator = \"MLR\")\nsummary(fitSEM1.8, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 25 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        16\n\n  Number of observations                         34650\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              19028.142   14181.466\n  Degrees of freedom                                 20          20\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.342\n    Yuan-Bentler correction (Mplus variant)                        \n\nModel Test Baseline Model:\n\n  Test statistic                            160793.472  110899.577\n  Degrees of freedom                                28          28\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.450\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.882       0.872\n  Tucker-Lewis Index (TLI)                       0.834       0.821\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.882\n  Robust Tucker-Lewis Index (TLI)                            0.835\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -296035.754 -296035.754\n  Scaling correction factor                                  1.205\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -286521.683 -286521.683\n  Scaling correction factor                                  1.281\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              592103.508  592103.508\n  Bayesian (BIC)                            592238.757  592238.757\n  Sample-size adjusted Bayesian (SABIC)     592187.909  592187.909\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.166       0.143\n  90 Percent confidence interval - lower         0.164       0.141\n  90 Percent confidence interval - upper         0.168       0.145\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.166\n  90 Percent confidence interval - lower                     0.163\n  90 Percent confidence interval - upper                     0.168\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.059       0.059\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.589    0.712\n    Q2                0.825    0.005  152.677    0.000    0.486    0.666\n    Q3               -1.233    0.010 -126.573    0.000   -0.726   -0.774\n    Q5               -1.184    0.010 -119.726    0.000   -0.697   -0.723\n    Q6                1.222    0.009  140.923    0.000    0.720    0.797\n    Q7                1.211    0.009  131.168    0.000    0.713    0.780\n    Q9               -1.193    0.011 -106.736    0.000   -0.702   -0.716\n    Q10              -1.378    0.011 -122.184    0.000   -0.811   -0.769\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.338    0.004   92.101    0.000    0.338    0.494\n   .Q2                0.296    0.003   96.373    0.000    0.296    0.556\n   .Q3                0.353    0.004   82.828    0.000    0.353    0.401\n   .Q5                0.443    0.005   88.796    0.000    0.443    0.477\n   .Q6                0.297    0.003   86.760    0.000    0.297    0.364\n   .Q7                0.327    0.004   86.363    0.000    0.327    0.391\n   .Q9                0.469    0.005   88.975    0.000    0.469    0.487\n   .Q10               0.456    0.005   85.751    0.000    0.456    0.409\n    SE                0.347    0.005   72.683    0.000    1.000    1.000\n```\n\n\n:::\n\n```{.r .cell-code}\nsemPaths(fitSEM1.8, what = \"std\", edge.label.cex = 0.7, esize = 1,\nintercepts = FALSE,rotation = 4, edge.color = 1, asize = 2.5,\nsizeMan = 5, mar = c(1, 1.5, 1.5, 3), fade = FALSE)\n```\n\n::: {.cell-output-display}\n![](SelfEsteem-SEM---IRT_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\nModel fit worsened. Thus, the SEM model with all ten items is retained.\n\nLastly, I want to test that there is truly just one latent factor contained in these 10 items. For the sake of exploratory analyses, I will break items into two separate factors: one factor will contain the five positively worded items and a second factor will contain the five negatively worded items.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSEM2Fac <- 'PosSE =~ Q1 + Q2 + Q4 + Q6 + Q7\n            NegSE =~ Q3 + Q5 + Q8 + Q9 + Q10'\nfitSEM2 <- sem(SEM2Fac, Data_new, estimator = \"MLR\")\nsummary(fitSEM2, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 30 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        21\n\n  Number of observations                         34650\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              14173.618   11323.056\n  Degrees of freedom                                 34          34\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.252\n    Yuan-Bentler correction (Mplus variant)                        \n\nModel Test Baseline Model:\n\n  Test statistic                            191819.569  138248.340\n  Degrees of freedom                                45          45\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.387\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.926       0.918\n  Tucker-Lewis Index (TLI)                       0.902       0.892\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.926\n  Robust Tucker-Lewis Index (TLI)                            0.902\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -365968.361 -365968.361\n  Scaling correction factor                                  1.282\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -358881.552 -358881.552\n  Scaling correction factor                                  1.263\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              731978.723  731978.723\n  Bayesian (BIC)                            732156.237  732156.237\n  Sample-size adjusted Bayesian (SABIC)     732089.499  732089.499\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.110       0.098\n  90 Percent confidence interval - lower         0.108       0.097\n  90 Percent confidence interval - upper         0.111       0.099\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.110\n  90 Percent confidence interval - lower                     0.108\n  90 Percent confidence interval - upper                     0.111\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.044       0.044\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  PosSE =~                                                              \n    Q1                1.000                               0.628    0.759\n    Q2                0.832    0.005  161.669    0.000    0.523    0.717\n    Q4                0.771    0.006  121.856    0.000    0.484    0.629\n    Q6                1.188    0.009  127.972    0.000    0.746    0.826\n    Q7                1.158    0.010  117.988    0.000    0.728    0.796\n  NegSE =~                                                              \n    Q3                1.000                               0.734    0.782\n    Q5                0.955    0.006  158.589    0.000    0.701    0.727\n    Q8                0.791    0.008  101.730    0.000    0.581    0.605\n    Q9                1.044    0.008  130.299    0.000    0.766    0.781\n    Q10               1.187    0.008  148.109    0.000    0.871    0.826\n\nCovariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  PosSE ~~                                                              \n    NegSE            -0.392    0.004  -92.290    0.000   -0.849   -0.849\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.290    0.004   80.140    0.000    0.290    0.424\n   .Q2                0.259    0.003   90.544    0.000    0.259    0.487\n   .Q4                0.359    0.003  102.732    0.000    0.359    0.605\n   .Q6                0.259    0.003   75.317    0.000    0.259    0.317\n   .Q7                0.307    0.004   76.461    0.000    0.307    0.367\n   .Q3                0.341    0.004   77.805    0.000    0.341    0.388\n   .Q5                0.438    0.005   85.632    0.000    0.438    0.471\n   .Q8                0.585    0.005  112.689    0.000    0.585    0.634\n   .Q9                0.375    0.005   77.904    0.000    0.375    0.390\n   .Q10               0.355    0.005   72.506    0.000    0.355    0.318\n    PosSE             0.395    0.005   75.246    0.000    1.000    1.000\n    NegSE             0.539    0.006   90.002    0.000    1.000    1.000\n```\n\n\n:::\n\n```{.r .cell-code}\nsemPaths(fitSEM2, what = \"std\", edge.label.cex = 0.7, esize = 1,\nintercepts = FALSE,rotation = 4, edge.color = 1, asize = 2.5,\nsizeMan = 5, mar = c(1, 1.5, 1.5, 3), fade = FALSE)\n```\n\n::: {.cell-output-display}\n![](SelfEsteem-SEM---IRT_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\nWhile model fit may have slightly improved, it still does not fit industry standards nor was this model originally conceived to possess two factors. Thus, I will retain the 10 item single factor self-esteem scale. Since I have gender data collected as well, I will conduct a multigroup SEM to determine how or if parameter estimates differ for men and women.\n\n::: text-center\n## **Multigroup SEM**\n:::\n\nTo determine if men and women differ in how they responded to the self-esteem items, first I need to add in a grouping variable to the model I settled on above (the single factor, 10 item self-esteem scale). All loadings and parameters of the structural model are set to be free with each subsequent model imposing a constraint on aspects of the model. Model fit changes of .01 ∆CFI/TLI and .015 ∆RMSEA suggests evidence for differences between men and women. This first model with zero constraints imposed on the data structure is considered the configural model. The fit for this model will be the same as the model estimated above, however, it will provide estimates for the model for both men and women.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nConfigural <- sem(SEM1Fac, group = \"gender\", data = Data_new, \n                  estimator = \"MLR\")\n#summary(Configural, standardized = TRUE, fit.measures = TRUE)\n```\n:::\n\n\n\nTo test for metric invariance, that is, that the relationship between the ten items and the latent self-esteem factor are the same for men and women, I will set factor loadings to be invariant. The model fit from the model will be compared to the configural model and detriments in fit greater than the change values above will provide evidence that men and women differ in how strongly each item loads onto the latent factor.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMetric <- sem(SEM1Fac, group = \"gender\", group.equal = c(\"loadings\"), \n              data = Data_new, estimator = \"MLR\")\nsummary(Metric, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 29 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        60\n  Number of equality constraints                     9\n\n  Number of observations per group:                   \n    1                                            13938\n    2                                            20712\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              22992.339   18091.475\n  Degrees of freedom                                 79          79\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.271\n    Yuan-Bentler correction (Mplus variant)                        \n  Test statistic for each group:\n    1                                         7120.232    7120.232\n    2                                         10971.243   10971.243\n\nModel Test Baseline Model:\n\n  Test statistic                            191839.246  138203.437\n  Degrees of freedom                                90          90\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.388\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.881       0.870\n  Tucker-Lewis Index (TLI)                       0.864       0.851\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.881\n  Robust Tucker-Lewis Index (TLI)                            0.864\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -369727.338 -369727.338\n  Scaling correction factor                                  0.978\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -358231.168 -358231.168\n  Scaling correction factor                                  1.224\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              739556.676  739556.676\n  Bayesian (BIC)                            739987.781  739987.781\n  Sample-size adjusted Bayesian (SABIC)     739825.703  739825.703\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.129       0.115\n  90 Percent confidence interval - lower         0.128       0.113\n  90 Percent confidence interval - upper         0.131       0.116\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.129\n  90 Percent confidence interval - lower                     0.128\n  90 Percent confidence interval - upper                     0.131\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.053       0.053\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\n\nGroup 1 [1]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.603    0.712\n    Q2      (.p2.)    0.822    0.005  154.779    0.000    0.496    0.675\n    Q3      (.p3.)   -1.213    0.009 -129.048    0.000   -0.732   -0.775\n    Q4      (.p4.)    0.772    0.007  118.384    0.000    0.466    0.593\n    Q5      (.p5.)   -1.168    0.010 -122.357    0.000   -0.705   -0.717\n    Q6      (.p6.)    1.209    0.008  143.847    0.000    0.729    0.793\n    Q7      (.p7.)    1.200    0.009  134.398    0.000    0.724    0.770\n    Q8      (.p8.)   -0.944    0.011  -89.261    0.000   -0.569   -0.589\n    Q9      (.p9.)   -1.179    0.011 -108.279    0.000   -0.711   -0.717\n    Q10     (.10.)   -1.358    0.011 -124.273    0.000   -0.819   -0.772\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                3.158    0.007  445.182    0.000    3.158    3.725\n   .Q2                3.279    0.006  535.266    0.000    3.279    4.459\n   .Q3                2.208    0.008  274.296    0.000    2.208    2.337\n   .Q4                3.082    0.007  464.301    0.000    3.082    3.927\n   .Q5                2.329    0.008  279.253    0.000    2.329    2.371\n   .Q6                2.677    0.008  342.965    0.000    2.677    2.912\n   .Q7                2.491    0.008  313.833    0.000    2.491    2.650\n   .Q8                2.609    0.008  316.205    0.000    2.609    2.697\n   .Q9                2.640    0.008  310.866    0.000    2.640    2.661\n   .Q10               2.400    0.009  266.358    0.000    2.400    2.261\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.354    0.006   59.213    0.000    0.354    0.493\n   .Q2                0.295    0.005   61.509    0.000    0.295    0.545\n   .Q3                0.357    0.006   55.477    0.000    0.357    0.400\n   .Q4                0.399    0.006   68.150    0.000    0.399    0.648\n   .Q5                0.469    0.008   60.523    0.000    0.469    0.486\n   .Q6                0.313    0.005   59.736    0.000    0.313    0.371\n   .Q7                0.360    0.006   60.075    0.000    0.360    0.407\n   .Q8                0.612    0.008   73.032    0.000    0.612    0.653\n   .Q9                0.478    0.008   62.962    0.000    0.478    0.486\n   .Q10               0.455    0.007   61.134    0.000    0.455    0.404\n    SE                0.364    0.006   64.062    0.000    1.000    1.000\n\n\nGroup 2 [2]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.589    0.726\n    Q2      (.p2.)    0.822    0.005  154.779    0.000    0.485    0.672\n    Q3      (.p3.)   -1.213    0.009 -129.048    0.000   -0.714   -0.766\n    Q4      (.p4.)    0.772    0.007  118.384    0.000    0.455    0.603\n    Q5      (.p5.)   -1.168    0.010 -122.357    0.000   -0.688   -0.723\n    Q6      (.p6.)    1.209    0.008  143.847    0.000    0.712    0.800\n    Q7      (.p7.)    1.200    0.009  134.398    0.000    0.707    0.788\n    Q8      (.p8.)   -0.944    0.011  -89.261    0.000   -0.556   -0.583\n    Q9      (.p9.)   -1.179    0.011 -108.279    0.000   -0.694   -0.716\n    Q10     (.10.)   -1.358    0.011 -124.273    0.000   -0.800   -0.763\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                3.053    0.006  536.891    0.000    3.053    3.759\n   .Q2                3.161    0.005  623.675    0.000    3.161    4.381\n   .Q3                2.266    0.006  351.030    0.000    2.266    2.429\n   .Q4                2.935    0.005  559.457    0.000    2.935    3.891\n   .Q5                2.294    0.007  347.673    0.000    2.294    2.412\n   .Q6                2.580    0.006  417.994    0.000    2.580    2.900\n   .Q7                2.490    0.006  398.757    0.000    2.490    2.776\n   .Q8                2.701    0.007  409.646    0.000    2.701    2.833\n   .Q9                2.752    0.007  411.047    0.000    2.752    2.836\n   .Q10               2.536    0.007  348.833    0.000    2.536    2.420\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.312    0.004   74.308    0.000    0.312    0.474\n   .Q2                0.286    0.004   75.881    0.000    0.286    0.549\n   .Q3                0.360    0.005   67.321    0.000    0.360    0.414\n   .Q4                0.362    0.004   85.383    0.000    0.362    0.637\n   .Q5                0.431    0.006   70.540    0.000    0.431    0.477\n   .Q6                0.285    0.004   71.745    0.000    0.285    0.360\n   .Q7                0.305    0.004   70.260    0.000    0.305    0.379\n   .Q8                0.600    0.006   93.282    0.000    0.600    0.660\n   .Q9                0.460    0.007   70.473    0.000    0.460    0.488\n   .Q10               0.459    0.007   69.966    0.000    0.459    0.418\n    SE                0.347    0.005   68.297    0.000    1.000    1.000\n```\n\n\n:::\n:::\n\n\n\nModel fit for the metric model is:\n\nThis is\n\nNext, I will also hold item intercepts invariate to test for scalar invariance. Scalar invariance suggests that item responses are equivalent at the absolute level of the self-esteem trait.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nScalar <- sem(SEM1Fac, group = \"gender\", group.equal = c(\"loadings\", \"intercepts\"), data = Data_new, estimator = \"MLR\")\nsummary(Scalar, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 49 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        61\n  Number of equality constraints                    19\n\n  Number of observations per group:                   \n    1                                            13938\n    2                                            20712\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              23805.643   19132.051\n  Degrees of freedom                                 88          88\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.244\n    Yuan-Bentler correction (Mplus variant)                        \n  Test statistic for each group:\n    1                                         7681.313    7681.313\n    2                                         11450.738   11450.738\n\nModel Test Baseline Model:\n\n  Test statistic                            191839.246  138203.437\n  Degrees of freedom                                90          90\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.388\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.876       0.862\n  Tucker-Lewis Index (TLI)                       0.873       0.859\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.876\n  Robust Tucker-Lewis Index (TLI)                            0.874\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -370133.990 -370133.990\n  Scaling correction factor                                  0.813\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -358231.168 -358231.168\n  Scaling correction factor                                  1.224\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              740351.980  740351.980\n  Bayesian (BIC)                            740707.008  740707.008\n  Sample-size adjusted Bayesian (SABIC)     740573.533  740573.533\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.125       0.112\n  90 Percent confidence interval - lower         0.123       0.111\n  90 Percent confidence interval - upper         0.126       0.113\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.125\n  90 Percent confidence interval - lower                     0.123\n  90 Percent confidence interval - upper                     0.126\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.055       0.055\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\n\nGroup 1 [1]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.605    0.712\n    Q2      (.p2.)    0.824    0.005  155.843    0.000    0.498    0.675\n    Q3      (.p3.)   -1.209    0.009 -129.474    0.000   -0.731   -0.774\n    Q4      (.p4.)    0.775    0.007  119.151    0.000    0.469    0.594\n    Q5      (.p5.)   -1.158    0.009 -122.177    0.000   -0.700   -0.712\n    Q6      (.p6.)    1.207    0.008  144.587    0.000    0.729    0.793\n    Q7      (.p7.)    1.192    0.009  134.597    0.000    0.721    0.767\n    Q8      (.p8.)   -0.943    0.011  -89.674    0.000   -0.570   -0.589\n    Q9      (.p9.)   -1.178    0.011 -108.710    0.000   -0.712   -0.717\n    Q10     (.10.)   -1.357    0.011 -124.870    0.000   -0.820   -0.772\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.22.)    3.137    0.006  517.499    0.000    3.137    3.697\n   .Q2      (.23.)    3.244    0.005  625.225    0.000    3.244    4.398\n   .Q3      (.24.)    2.191    0.007  307.298    0.000    2.191    2.320\n   .Q4      (.25.)    3.026    0.005  570.059    0.000    3.026    3.837\n   .Q5      (.26.)    2.256    0.007  316.689    0.000    2.256    2.295\n   .Q6      (.27.)    2.671    0.007  379.819    0.000    2.671    2.905\n   .Q7      (.28.)    2.546    0.007  362.580    0.000    2.546    2.709\n   .Q8      (.29.)    2.623    0.007  398.982    0.000    2.623    2.710\n   .Q9      (.30.)    2.656    0.007  364.272    0.000    2.656    2.676\n   .Q10     (.31.)    2.422    0.008  301.276    0.000    2.422    2.280\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.355    0.006   59.279    0.000    0.355    0.492\n   .Q2                0.296    0.005   61.945    0.000    0.296    0.544\n   .Q3                0.358    0.006   55.512    0.000    0.358    0.401\n   .Q4                0.402    0.006   68.624    0.000    0.402    0.647\n   .Q5                0.476    0.008   60.067    0.000    0.476    0.493\n   .Q6                0.313    0.005   59.705    0.000    0.313    0.371\n   .Q7                0.364    0.006   60.237    0.000    0.364    0.412\n   .Q8                0.612    0.008   72.895    0.000    0.612    0.653\n   .Q9                0.478    0.008   62.765    0.000    0.478    0.485\n   .Q10               0.455    0.007   60.998    0.000    0.455    0.403\n    SE                0.365    0.006   64.655    0.000    1.000    1.000\n\n\nGroup 2 [2]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.590    0.726\n    Q2      (.p2.)    0.824    0.005  155.843    0.000    0.486    0.673\n    Q3      (.p3.)   -1.209    0.009 -129.474    0.000   -0.713   -0.765\n    Q4      (.p4.)    0.775    0.007  119.151    0.000    0.458    0.605\n    Q5      (.p5.)   -1.158    0.009 -122.177    0.000   -0.684   -0.720\n    Q6      (.p6.)    1.207    0.008  144.587    0.000    0.712    0.800\n    Q7      (.p7.)    1.192    0.009  134.597    0.000    0.704    0.786\n    Q8      (.p8.)   -0.943    0.011  -89.674    0.000   -0.557   -0.584\n    Q9      (.p9.)   -1.178    0.011 -108.710    0.000   -0.695   -0.716\n    Q10     (.10.)   -1.357    0.011 -124.870    0.000   -0.801   -0.764\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.22.)    3.137    0.006  517.499    0.000    3.137    3.860\n   .Q2      (.23.)    3.244    0.005  625.225    0.000    3.244    4.487\n   .Q3      (.24.)    2.191    0.007  307.298    0.000    2.191    2.349\n   .Q4      (.25.)    3.026    0.005  570.059    0.000    3.026    3.999\n   .Q5      (.26.)    2.256    0.007  316.689    0.000    2.256    2.375\n   .Q6      (.27.)    2.671    0.007  379.819    0.000    2.671    3.001\n   .Q7      (.28.)    2.546    0.007  362.580    0.000    2.546    2.842\n   .Q8      (.29.)    2.623    0.007  398.982    0.000    2.623    2.750\n   .Q9      (.30.)    2.656    0.007  364.272    0.000    2.656    2.735\n   .Q10     (.31.)    2.422    0.008  301.276    0.000    2.422    2.309\n    SE               -0.072    0.007  -10.487    0.000   -0.123   -0.123\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1                0.312    0.004   74.215    0.000    0.312    0.472\n   .Q2                0.286    0.004   75.544    0.000    0.286    0.547\n   .Q3                0.360    0.005   67.389    0.000    0.360    0.415\n   .Q4                0.363    0.004   84.971    0.000    0.363    0.634\n   .Q5                0.434    0.006   71.101    0.000    0.434    0.482\n   .Q6                0.285    0.004   71.743    0.000    0.285    0.360\n   .Q7                0.307    0.004   70.259    0.000    0.307    0.382\n   .Q8                0.600    0.006   93.236    0.000    0.600    0.659\n   .Q9                0.459    0.007   70.403    0.000    0.459    0.487\n   .Q10               0.458    0.007   69.847    0.000    0.458    0.417\n    SE                0.348    0.005   68.390    0.000    1.000    1.000\n```\n\n\n:::\n:::\n\n\n\nModel fit for the scalar model is:\n\nThis indicates that\n\nLast, I will add item uniqueness (also called item residual) as the next invariate parameter as a test for strict invariance. Evidence of strict invariance would indicate that each item's residual is equal across gender groups.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nStrict <- sem(SEM1Fac, group = \"gender\", group.equal = c(\"loadings\", \"intercepts\", \"residuals\"), data = Data_new, estimator = \"MLR\")\nsummary(Strict, standardized = TRUE, fit.measures = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlavaan 0.6-19 ended normally after 39 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        61\n  Number of equality constraints                    29\n\n  Number of observations per group:                   \n    1                                            13938\n    2                                            20712\n\nModel Test User Model:\n                                               Standard      Scaled\n  Test Statistic                              24068.206   19096.890\n  Degrees of freedom                                 98          98\n  P-value (Chi-square)                            0.000       0.000\n  Scaling correction factor                                   1.260\n    Yuan-Bentler correction (Mplus variant)                        \n  Test statistic for each group:\n    1                                         7670.981    7670.981\n    2                                         11425.908   11425.908\n\nModel Test Baseline Model:\n\n  Test statistic                            191839.246  138203.437\n  Degrees of freedom                                90          90\n  P-value                                        0.000       0.000\n  Scaling correction factor                                  1.388\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.875       0.862\n  Tucker-Lewis Index (TLI)                       0.885       0.874\n                                                                  \n  Robust Comparative Fit Index (CFI)                         0.875\n  Robust Tucker-Lewis Index (TLI)                            0.885\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)            -370265.271 -370265.271\n  Scaling correction factor                                  0.583\n      for the MLR correction                                      \n  Loglikelihood unrestricted model (H1)    -358231.168 -358231.168\n  Scaling correction factor                                  1.224\n      for the MLR correction                                      \n                                                                  \n  Akaike (AIC)                              740594.543  740594.543\n  Bayesian (BIC)                            740865.040  740865.040\n  Sample-size adjusted Bayesian (SABIC)     740763.345  740763.345\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.119       0.106\n  90 Percent confidence interval - lower         0.118       0.105\n  90 Percent confidence interval - upper         0.120       0.107\n  P-value H_0: RMSEA <= 0.050                    0.000       0.000\n  P-value H_0: RMSEA >= 0.080                    1.000       1.000\n                                                                  \n  Robust RMSEA                                               0.119\n  90 Percent confidence interval - lower                     0.117\n  90 Percent confidence interval - upper                     0.120\n  P-value H_0: Robust RMSEA <= 0.050                         0.000\n  P-value H_0: Robust RMSEA >= 0.080                         1.000\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.055       0.055\n\nParameter Estimates:\n\n  Standard errors                             Sandwich\n  Information bread                           Observed\n  Observed information based on                Hessian\n\n\nGroup 1 [1]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.605    0.725\n    Q2      (.p2.)    0.825    0.005  155.805    0.000    0.499    0.679\n    Q3      (.p3.)   -1.211    0.009 -129.251    0.000   -0.732   -0.774\n    Q4      (.p4.)    0.776    0.007  119.227    0.000    0.469    0.606\n    Q5      (.p5.)   -1.160    0.010 -121.998    0.000   -0.702   -0.722\n    Q6      (.p6.)    1.208    0.008  144.241    0.000    0.731    0.802\n    Q7      (.p7.)    1.193    0.009  133.805    0.000    0.721    0.782\n    Q8      (.p8.)   -0.945    0.011  -89.635    0.000   -0.571   -0.592\n    Q9      (.p9.)   -1.181    0.011 -108.676    0.000   -0.714   -0.723\n    Q10     (.10.)   -1.360    0.011 -124.713    0.000   -0.822   -0.773\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.22.)    3.138    0.006  521.185    0.000    3.138    3.764\n   .Q2      (.23.)    3.244    0.005  633.822    0.000    3.244    4.420\n   .Q3      (.24.)    2.191    0.007  307.173    0.000    2.191    2.316\n   .Q4      (.25.)    3.028    0.005  579.410    0.000    3.028    3.912\n   .Q5      (.26.)    2.258    0.007  318.460    0.000    2.258    2.325\n   .Q6      (.27.)    2.671    0.007  380.326    0.000    2.671    2.931\n   .Q7      (.28.)    2.542    0.007  362.574    0.000    2.542    2.756\n   .Q8      (.29.)    2.623    0.007  399.159    0.000    2.623    2.719\n   .Q9      (.30.)    2.656    0.007  364.083    0.000    2.656    2.688\n   .Q10     (.31.)    2.423    0.008  301.542    0.000    2.423    2.276\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.11.)    0.330    0.004   92.658    0.000    0.330    0.474\n   .Q2      (.12.)    0.290    0.003   97.356    0.000    0.290    0.539\n   .Q3      (.13.)    0.359    0.004   84.548    0.000    0.359    0.401\n   .Q4      (.14.)    0.379    0.004  108.011    0.000    0.379    0.633\n   .Q5      (.15.)    0.451    0.005   90.869    0.000    0.451    0.478\n   .Q6      (.16.)    0.296    0.003   90.309    0.000    0.296    0.357\n   .Q7      (.17.)    0.330    0.004   89.506    0.000    0.330    0.388\n   .Q8      (.18.)    0.604    0.005  114.912    0.000    0.604    0.649\n   .Q9      (.19.)    0.466    0.005   89.808    0.000    0.466    0.478\n   .Q10     (.20.)    0.457    0.005   87.872    0.000    0.457    0.403\n    SE                0.366    0.006   64.706    0.000    1.000    1.000\n\n\nGroup 2 [2]:\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n  SE =~                                                                 \n    Q1                1.000                               0.589    0.716\n    Q2      (.p2.)    0.825    0.005  155.805    0.000    0.485    0.669\n    Q3      (.p3.)   -1.211    0.009 -129.251    0.000   -0.713   -0.765\n    Q4      (.p4.)    0.776    0.007  119.227    0.000    0.457    0.596\n    Q5      (.p5.)   -1.160    0.010 -121.998    0.000   -0.683   -0.713\n    Q6      (.p6.)    1.208    0.008  144.241    0.000    0.711    0.794\n    Q7      (.p7.)    1.193    0.009  133.805    0.000    0.702    0.774\n    Q8      (.p8.)   -0.945    0.011  -89.635    0.000   -0.556   -0.582\n    Q9      (.p9.)   -1.181    0.011 -108.676    0.000   -0.695   -0.713\n    Q10     (.10.)   -1.360    0.011 -124.713    0.000   -0.800   -0.764\n\nIntercepts:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.22.)    3.138    0.006  521.185    0.000    3.138    3.816\n   .Q2      (.23.)    3.244    0.005  633.822    0.000    3.244    4.474\n   .Q3      (.24.)    2.191    0.007  307.173    0.000    2.191    2.353\n   .Q4      (.25.)    3.028    0.005  579.410    0.000    3.028    3.950\n   .Q5      (.26.)    2.258    0.007  318.460    0.000    2.258    2.358\n   .Q6      (.27.)    2.671    0.007  380.326    0.000    2.671    2.982\n   .Q7      (.28.)    2.542    0.007  362.574    0.000    2.542    2.801\n   .Q8      (.29.)    2.623    0.007  399.159    0.000    2.623    2.744\n   .Q9      (.30.)    2.656    0.007  364.083    0.000    2.656    2.725\n   .Q10     (.31.)    2.423    0.008  301.542    0.000    2.423    2.313\n    SE               -0.072    0.007  -10.473    0.000   -0.123   -0.123\n\nVariances:\n                   Estimate  Std.Err  z-value  P(>|z|)   Std.lv  Std.all\n   .Q1      (.11.)    0.330    0.004   92.658    0.000    0.330    0.487\n   .Q2      (.12.)    0.290    0.003   97.356    0.000    0.290    0.552\n   .Q3      (.13.)    0.359    0.004   84.548    0.000    0.359    0.414\n   .Q4      (.14.)    0.379    0.004  108.011    0.000    0.379    0.645\n   .Q5      (.15.)    0.451    0.005   90.869    0.000    0.451    0.491\n   .Q6      (.16.)    0.296    0.003   90.309    0.000    0.296    0.369\n   .Q7      (.17.)    0.330    0.004   89.506    0.000    0.330    0.401\n   .Q8      (.18.)    0.604    0.005  114.912    0.000    0.604    0.661\n   .Q9      (.19.)    0.466    0.005   89.808    0.000    0.466    0.491\n   .Q10     (.20.)    0.457    0.005   87.872    0.000    0.457    0.416\n    SE                0.346    0.005   68.407    0.000    1.000    1.000\n```\n\n\n:::\n:::\n\n\n\nModel fit for the strict model is:\n\nI have been comparing each model using model fit indicies but there is another way to compare models that compares AIC, BIC, and Chi-Square test of differences. This route also provides probability estimates for each parameter restriction.\n\n::: text-center\n### **Nested Model Comparison**\n:::\n\nJust as with model fit indicies, the more restrictive model will be compared to a less restrictive model. Using the four models I computed above, the code is relatively simple using the compareFit function in the semTools package.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(semTools)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'semTools' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n###############################################################################\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThis is semTools 0.5-7\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nAll users of R (or SEM) are invited to submit functions or ideas for functions.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n###############################################################################\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'semTools'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:psych':\n\n    reliability, skew\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(compareFit(Configural, Metric))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n################### Nested Model Comparison #########################\n\nScaled Chi-Squared Difference Test (method = \"satorra.bentler.2001\")\n\nlavaan->unknown():  \n   lavaan NOTE: The \"Chisq\" column contains standard test statistics, not the \n   robust test that should be reported per model. A robust difference test is \n   a function of two standard (not robust) statistics.\n           Df    AIC    BIC Chisq Chisq diff Df diff Pr(>Chisq)    \nConfigural 70 739500 740007 22918                                  \nMetric     79 739557 739988 22992     73.219       9  3.549e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n####################### Model Fit Indices ###########################\n           chisq.scaled df.scaled pvalue.scaled rmsea.robust cfi.robust\nConfigural   17584.988†        70          .000        .137       .881†\nMetric       18091.475         79          .000        .129†      .881 \n           tli.robust  srmr         aic         bic\nConfigural      .847  .053† 739500.051† 740007.235 \nMetric          .864† .053  739556.676  739987.781†\n\n################## Differences in Fit Indices #######################\n                    df.scaled rmsea.robust cfi.robust tli.robust  srmr    aic\nMetric - Configural         9       -0.008          0      0.017 0.001 56.624\n                        bic\nMetric - Configural -19.453\n```\n\n\n:::\n:::\n",
    "supporting": [
      "SelfEsteem-SEM---IRT_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}